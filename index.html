<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Messenger Style Chat</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="">
  <div id="app">
    <header id="topRow">
      <button id="settings-btn" onclick="toggleSettings()"><svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" height="1.5em" width="1.5em"><path fill="currentColor" d="M24 41q2.8 0 5.8-1.15t5.7-3.4q-4.9-1.7-8.45-4.575-3.55-2.875-5.625-6.65-2.075-3.775-2.65-8.25-.575-4.475.475-9.325-5.55 2.05-8.9 6.325Q7 18.25 7 24q0 7.2 4.9 12.1Q16.8 41 24 41Zm0 3q-4.2 0-7.85-1.55Q12.5 40.9 9.8 38.2q-2.7-2.7-4.25-6.35Q4 28.2 4 24q0-7.2 4.725-12.825Q13.45 5.55 20.5 4.3q1.3-.25 1.9.575.6.825.15 2.175-1.35 4.25-.9 8.65.45 4.4 2.5 8.15t5.575 6.475Q33.25 33.05 38 33.9q1.4.25 1.775 1.1.375.85-.475 1.85Q36.45 40 32.4 42q-4.05 2-8.4 2Z"/></svg></button>
      <div style="text-align:center;width:100%">Chat Book</div>
      <button id="menu-btn"><svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" height="1.5em" width="1.5em"><path fill="currentColor" d="M7.5 36q-.65 0-1.075-.425Q6 35.15 6 34.5q0-.65.425-1.075Q6.85 33 7.5 33h33q.65 0 1.075.425Q42 33.85 42 34.5q0 .65-.425 1.075Q41.15 36 40.5 36Zm0-10.5q-.65 0-1.075-.425Q6 24.65 6 24q0-.65.425-1.075Q6.85 22.5 7.5 22.5h33q.65 0 1.075.425Q42 23.35 42 24q0 .65-.425 1.075-.425.425-1.075.425Zm0-10.5q-.65 0-1.075-.425Q6 14.15 6 13.5q0-.65.425-1.075Q6.85 12 7.5 12h33q.65 0 1.075.425Q42 12.85 42 13.5q0 .65-.425 1.075Q41.15 15 40.5 15Z"/></svg></button>
    </header>
  
    <div id="auth-section">
      <form id="auth-form" onsubmit="return false;">
        <div id="login-form">
          <div class="password-wrapper">
            <input id="li-email" type="email" placeholder="Email" required />
          </div>
          <div class="password-wrapper">
            <input id="li-password" type="password" placeholder="Password" required />
            <button type="button" class="password-toggle-btn" id="li-toggle">
                              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="M17.94 17.94A10.94 10.94 0 0 1 12 20c-7 0-11-8-11-8a20.38 20.38 0 0 1 5.6-7.18"/>
          <path d="M1 1l22 22"/>
        </svg>
            </button>
          </div>
          <button id="login-btn" type="submit">Login</button>
          <div class="toggle-link" id="to-signup">Don't have an account? Sign up</div>
          <div class="toggle-link" id="useSaved">Use saved account?</div>
        </div>
  
        <div id="signup-form" style="display:none;">
          <div class="password-wrapper">
            <input id="su-email" type="email" placeholder="Email" required />
          </div>
          <div class="password-wrapper">
            <input id="su-username" type="text" placeholder="Username" required />
          </div>
          <div class="password-wrapper">
            <input id="su-password" type="password" placeholder="Password" required />
            <button type="button" class="password-toggle-btn" id="su-toggle">
                              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round">
          <path d="M17.94 17.94A10.94 10.94 0 0 1 12 20c-7 0-11-8-11-8a20.38 20.38 0 0 1 5.6-7.18"/>
          <path d="M1 1l22 22"/>
        </svg>
            </button>
          </div>
          <button id="signup-btn" type="submit">Sign Up</button>
          <div class="toggle-link" id="to-login">Already have an account? Login</div>
          <div class="toggle-link" id="useSaved">Use saved account?</div>
        </div>
      </form>
      <div class="usersSaved">
        <div class="users"></div>
        <button id="useAnother">Use another account</button>
      </div>
    </div>
  
    <div id="main" style="display:none;">
      <section id="userlist-screen">
        <div id="userlist"></div>
      </section>
  
      <section id="chat-screen">
        <div id="chat-header">
          <button id="back-btn" title="Back">
            <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" height="1.5em" width="1.5em"><path fill="currentColor" d="M31.35 42.6 13.8 25.05q-.25-.25-.35-.5-.1-.25-.1-.55 0-.3.1-.55.1-.25.35-.5L31.35 5.4q.55-.55 1.4-.55.85 0 1.4.55.6.6.6 1.425 0 .825-.6 1.425L18.4 24l15.75 15.75q.65.65.6 1.45-.05.8-.6 1.35-.6.6-1.425.6-.825 0-1.375-.55Z"/></svg>
          </button>
          <div id="chat-with-name"></div>
        </div>
        <div id="messages"></div>
        <div class="send-row">
        <textarea id="msg-input" placeholder="Type your message..." disabled></textarea>
        <button id="send-btn" disabled><svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" height="1.5em" width="1.5em"><path fill="currentColor" d="M8.1 39.1q-.75.3-1.425-.125T6 37.75V28.9q0-.55.325-.95.325-.4.825-.5L21.1 24 7.15 20.45q-.5-.1-.825-.5Q6 19.55 6 19v-8.75q0-.8.675-1.225Q7.35 8.6 8.1 8.9l32.6 13.7q.9.4.9 1.4 0 1-.9 1.4Z"/></svg></button>
        </div>
      </section>
    </div>
  </div>
  <div class="loader">
    <div class="loaderbar"></div>
    <p class="text">Loading account ...</p>
  </div>
<div class="menu">
  <button class="closeMenu close">
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" height="1.5em" width="1.5em"><path fill="currentColor" d="M24 26.1 13.5 36.6q-.45.45-1.05.45-.6 0-1.05-.45-.45-.45-.45-1.05 0-.6.45-1.05L21.9 24 11.4 13.5q-.45-.45-.45-1.05 0-.6.45-1.05.45-.45 1.05-.45.6 0 1.05.45L24 21.9l10.5-10.5q.45-.45 1.05-.45.6 0 1.05.45.45.45.45 1.05 0 .6-.45 1.05L26.1 24l10.5 10.5q.45.45.45 1.05 0 .6-.45 1.05-.45.45-1.05.45-.6 0-1.05-.45Z"/></svg>
  </button>
  <div class="profile">
    <div class="myavatar">No Name</div>
    <div class="myname">Fetching Username</div>
  </div>
  <button id="logout-btn">Logout</button>
  <button id="change-username-btn">Change Username</button>
  <button id="change-password-btn">Change Password</button>
  <button id="delete-account-btn">Delete Account</button>
</div>
<div class="usernameChange">
  <button class="closeUsernameChange close">
    <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" height="1.5em" width="1.5em"><path fill="currentColor" d="M24 26.1 13.5 36.6q-.45.45-1.05.45-.6 0-1.05-.45-.45-.45-.45-1.05 0-.6.45-1.05L21.9 24 11.4 13.5q-.45-.45-.45-1.05 0-.6.45-1.05.45-.45 1.05-.45.6 0 1.05.45L24 21.9l10.5-10.5q.45-.45 1.05-.45.6 0 1.05.45.45.45.45 1.05 0 .6-.45 1.05L26.1 24l10.5 10.5q.45.45.45 1.05 0 .6-.45 1.05-.45.45-1.05.45-.6 0-1.05-.45Z"/></svg>
  </button>
  <h1>Change your username</h1>
  <input type="text" id="currentUsernameInput">
  <button id="changeUsernameSubmit">Submit</button>
</div>
  <div class="dialog" id="dialogBox">
    <p id="dialogMsg">Message</p>
    <input id="promptInput" style="display: none" />
    <div class="button-row" id="buttonRow">
      <button id="cancelBtnD">Cancel</button>
      <button id="okBtn">OK</button>
    </div>
  </div>
  <div class="overlay" id="overlay"></div>
  <div class="settings">
    <div class="topRow">
      Dark Mode
      <div class="back" onclick="back()"><svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" height="1.5em" width="1.5em"><path fill="currentColor" d="M24 26.1 13.5 36.6q-.45.45-1.05.45-.6 0-1.05-.45-.45-.45-.45-1.05 0-.6.45-1.05L21.9 24 11.4 13.5q-.45-.45-.45-1.05 0-.6.45-1.05.45-.45 1.05-.45.6 0 1.05.45L24 21.9l10.5-10.5q.45-.45 1.05-.45.6 0 1.05.45.45.45.45 1.05 0 .6-.45 1.05L26.1 24l10.5 10.5q.45.45.45 1.05 0 .6-.45 1.05-.45.45-1.05.45-.6 0-1.05-.45Z"/></svg></div>
    </div>
    <div class="darkModeBtn" onclick="toggleTheme()">
      <div class="button"></div>
    </div>
  </div>
  <script>
  function closeChat(){
  chatScreen.classList.remove("active");
  topRow.style.opacity = "1";
  topRow.style.pointerEvents = "auto";
  logoutBtn.style.opacity = "1";
  logoutBtn.style.pointerEvents = "auto";
}
    let mode = localStorage.getItem("theme") || "light";
function toggleTheme(){
  mode = localStorage.getItem("theme") || "light";
  if(mode === "light"){
    document.body.classList.add("dark")
    mode = "dark";
    localStorage.setItem("theme", mode)
  }else{
    document.body.classList.remove("dark")
    mode = "light";
    localStorage.setItem("theme", mode)
  }
}
if(mode === "dark"){
  document.body.classList.add("dark")
}
function toggleSettings(){
  document.querySelector('.settings').classList.add('shown')
  document.querySelector('.overlay').classList.add('shown')
}
function back(){
  document.querySelector('.settings').classList.remove('shown')
  document.querySelector('.overlay').classList.remove('shown')
}
  </script>
  <script type="module" src="app.js"></script>
</body>
</html>